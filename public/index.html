<!DOCTYPE html>
<html>

<head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script>
    <script src="lib/phaser-ui-tools.min.js"></script>
</head>

<body>

    <script>
        var config = {
            type: Phaser.AUTO,
            width: 600,
            height: 400,
            physics: {
                default: 'arcade',
                arcade: {
                    gravity: { y: 0 }
                }
            },
            scene: {
                preload: preload,
                create: create
            }
        };

        var game = new Phaser.Game(config);

        function preload() {
            this.load.image("tiles", "assets/images/backgrounds/future_tiles.png");
            this.load.tilemapTiledJSON("map", "assets/map.json");
        }

        function create() {
            const map = this.make.tilemap({ key: "map" });

            // Parameters are the name you gave the tileset in Tiled and then the key of the tileset image in
            // Phaser's cache (i.e. the name you used in preload)
            const tileset = map.addTilesetImage("future", "tiles");

            // Parameters: layer name (or index) from Tiled, tileset, x, y
            const belowLayer = map.createStaticLayer("floor", tileset, 0, 0);
            const topLayer = map.createStaticLayer("walls", tileset, 0, 0);

            topLayer.setCollisionByProperty({ collides: true });

            //checking which tiles have collision detection
            // const debugGraphics = this.add.graphics().setAlpha(0.75);
            // topLayer.renderDebug(debugGraphics, {
            //     tileColor: null, // Color of non-colliding tiles
            //     collidingTileColor: new Phaser.Display.Color(243, 134, 48, 255), // Color of colliding tiles
            //     faceColor: new Phaser.Display.Color(40, 39, 37, 255) // Color of colliding face edges
            // });

        }
    </script>

</body>

</html>